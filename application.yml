spring:
  data:
    mongodb:
      uri: mongodb+srv://jamici:jamici@jamici.ioxz3hb.mongodb.net/?retryWrites=true&w=majority
      database: jamici
      port: 27017
      host: serverlessinstance0.60aj1q0.mongodb.net
  mail:
    host: smtp.gmail.com
    port: 587
    username: shiineali1@gmail.com
    password: tialgncepxgjqexf
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
  graphql:
  schema: |
    scalar Boolean
    scalar Date
    scalar Long
    scalar LocalTime

    type UniversityDto {
        uid: String
        uRegion: RegionEnum
        uDistrict: District
        uName: String
        uCategory: InstitutionType
        uPhoto: String
        uZaad: String
        uEdahab: String
    }

    type UniversityWithoutProgramDto {
        uid: String
        uRegion: RegionEnum
        uDistrict: District
        uName: String
        uCategory: InstitutionType
        uPhoto: String
        uZaad: String
        uEdahab: String
    }

    type RegionDto {
        rid: String
        rName: RegionEnum
        district: [District]
    }

    input RegionDtoInput {
        rName: RegionEnum
        district: District
    }

    input UniversityDtoWithoutProgramInput {
        uRegion: RegionEnum
        uDistrict: District
        uName: String
        uCategory: InstitutionType
        uPhoto: String
        uZaad: String
        uEdahab: String
    }

    input ProgramDtoInput {
        pName: String
        levels: DegreeLevels
        isActive: Boolean
    }

    input ProgramToUniversityDtoInput {
        pName: String
    }

    enum DegreeLevels {
        UNDERGRADUATE
        GRADUATE
    }

    enum RegionEnum {
        MAROODI_JEEX @deprecated(reason: "Use 'MAROODI JEEX' instead")
        AWDAL
        SANAAG
        SOOL
        TOGDHEER
        SAAXIL
    }

    enum District {
        # Awdal Region
        BORAMA
        SEYLAC
        LUGHAYA
        BAKI
        DILLA
        # Mardodi Jeex Region
        HARGEISA
        GABILEY
        SALAHLEY
        BALIGUBADLE
        FARAWEYNE
        SABAWANAAG
        CADADLEY
        DARESALAM
        ALLAYBADAY
        # Sanag Region
        CEERIGAABO
        CEL_AFWEYN @deprecated(reason: "Use 'CEEL AFWEYN' instead")
        LAAS_QOREY @deprecated(reason: "Use 'LAAS QOREY' instead")
        GARADAG
        DHAHAR
        MAYDH
        DARARWEYNE
        FIQI_FULIYE
        HEES
        # Sool Region
        LAASCAANOOD
        CAYNABO
        TALEEX
        XUDUN
        BOOCAME
        YAGOORI
        # Saaxil Region
        BERBERA
        SHEIKH
        MANDHERA
        BULAXAAR
        XAGAL
        # Togdheer Region
        BURCO
        OODWEYNE
        BUUHOODLE
        DURUQSI
        SH_XASAN_GEELE @deprecated(reason: "Use 'SH XASAN GEELE' instead")
        QORYALE
    }

    enum InstitutionType {
        INSTITUTE
        COLLEGE
        COLLEGE_UNIVERSITY
        UNIVERSITY
    }

    enum Gender {
        MALE
        FEMALE
    }

    enum PaymentMethod {
        ZAAD
        EDAHAB
    }

    enum SchoolType {
        ENGLISH
        ARABIC
        FOREIGN
    }

    type School {
        region: RegionEnum
        district: District
        schoolName: String
    }

    type Query {
        listOfUniversities: [UniversityDto]
        getUniversityById(uid: String!): UniversityDto
        listOfPrograms: [ProgramDto]
        getProgramById(pid: String!): ProgramDto
        getProgramByName(pName: String!): ProgramDto
    }

    type Mutation {
        saveUniversity(universityDto: UniversityDtoWithoutProgramInput): UniversityWithoutProgramDto
        saveProgram(programDto: ProgramDtoInput, uName: String, uDistrict: District, uRegion: RegionEnum): ProgramDto
        updateProgram(pid: String!, programDto: ProgramDtoInput, uName: String, uDistrict: District, uRegion: RegionEnum): ProgramDto
        deleteProgram(pid: String!): ProgramDto
        updateUniversity(uid: String!, universityDto: UniversityDtoWithoutProgramInput): UniversityWithoutProgramDto
    }

    schema {
        query: Query
        mutation: Mutation
    }



      routes:
        - id: student-service
          uri: http://localhost:8083
          predicates:
            - Path=/api/student-service/graphql
        - id: university-service
#          uri: https://university-service-a7b11fc7e926.herokuapp.com
          uri: http://localhost:8082
          predicates:
            - Path=/api/university-service/graphql
        - id: nche-service
#          uri: https://nche-service-8eceff6bb0f1.herokuapp.com
          uri: http://localhost:8081
          predicates:
            - Path=/api/nche-service/graphql


management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
    gateway:
      enabled: true


graphiql:
  cdn:
    enabled: true

